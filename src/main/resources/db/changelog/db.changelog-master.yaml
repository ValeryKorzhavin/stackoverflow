databaseChangeLog:
  - includeAll:
      path: db/changelog/changesets
      relativeToChangelogFile: false

  - changeSet:
      id: 1
      author: valery.korzh
      comment: "Create admin user"
      changes:
        - insert:
            tableName: account
            columns:
              - column:
                  name: name
                  value: "admin"
              - column:
                  name: password
                  value: ${admin.password}
              - column:
                  name: email
                  value: "admin@gmail.com"

  - changeSet:
      id: 2
      author: valery.korzh
      comment: "Set admin roles"
      changes:
        - insert:
            tableName: account_role
            columns:
              - column:
                  name: account_id
                  value: 1
              - column:
                  name: roles
                  value: "USER"
        - insert:
            tableName: account_role
            columns:
              - column:
                  name: account_id
                  value: 1
              - column:
                  name: roles
                  value: "MODERATOR"
        - insert:
            tableName: account_role
            columns:
              - column:
                  name: account_id
                  value: 1
              - column:
                  name: roles
                  value: "ADMIN"

      rollback:
        - delete:
            tableName: account
            where: email in ('admin@gmail.com')